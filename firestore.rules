
rules_version = '2';

/**
 * @file firestore.rules
 * @description Security rules for the MechQuote Firestore database.
 *
 * ## Core Philosophy
 * This ruleset is designed for a prototyping environment with anonymous authentication.
 * It prioritizes rapid development by allowing any signed-in user (including anonymous ones)
 * to read and write all data.
 */
service cloud.firestore {
  match /databases/{database}/documents {

    // Helper Functions
    /**
     * Returns true if the user is authenticated (can be an anonymous user).
     */
    function isSignedIn() {
      return request.auth != null;
    }

    // Rules for collections
    match /{path=**} {
      allow read, write: if isSignedIn();
    }
  }
}

    